var ecDo={trim:function(e,t){switch(t){case 1:return e.replace(/\s+/g,"");case 2:return e.replace(/(^\s*)|(\s*$)/g,"");case 3:return e.replace(/(^\s*)/g,"");case 4:return e.replace(/(\s*$)/g,"");default:return e}},changeCase:function(e,t){function r(e){var t="";e.split("").forEach(function(e){if(/^([a-z]+)/.test(e)){t+=e.toUpperCase()}else if(/^([A-Z]+)/.test(e)){t+=e.toLowerCase()}else{t+=e}});return t}switch(t){case 1:return e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase()});case 2:return e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toLowerCase()+e.substring(1).toUpperCase()});case 3:return r(e);case 4:return e.toUpperCase();case 5:return e.toLowerCase();default:return e}},repeatStr:function(e,t){var r="";for(var n=0;n<t;n++){r+=e}return r},replaceAll:function(e,t,r){raRegExp=new RegExp(t,"g");return e.replace(raRegExp,r)},replaceStr:function(e,t,r,n){var a="",s=null,i=n||"*";if(t.length===3&&r===0){a="(\\w{"+t[0]+"})\\w{"+t[1]+"}(\\w{"+t[2]+"})";s=new RegExp(a);var o=this.repeatStr(i,t[1]);return e.replace(s,"$1"+o+"$2")}else if(t.length===3&&r===1){a="\\w{"+t[0]+"}(\\w{"+t[1]+"})\\w{"+t[2]+"}";s=new RegExp(a);var u=this.repeatStr(i,t[0]);var l=this.repeatStr(i,t[2]);return e.replace(s,u+"$1"+l)}else if(t.length===1&&r===0){a="(^\\w{"+t[0]+"})";s=new RegExp(a);var o=this.repeatStr(i,t[0]);return e.replace(s,o)}else if(t.length===1&&r===1){a="(\\w{"+t[0]+"}$)";s=new RegExp(a);var o=this.repeatStr(i,t[0]);return e.replace(s,o)}},checkType:function(e,t){switch(t){case"email":return/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(e);case"phone":return/^1[3|4|5|7|8][0-9]{9}$/.test(e);case"tel":return/^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/.test(e);case"number":return/^[0-9]$/.test(e);case"english":return/^[a-zA-Z]+$/.test(e);case"text":return/^\w+$/.test(e);case"chinese":return/^[\u4E00-\u9FA5]+$/.test(e);case"lower":return/^[a-z]+$/.test(e);case"upper":return/^[A-Z]+$/.test(e);default:return true}},checkPwd:function(e){var t=0;if(e.length<6){return t}if(/[0-9]/.test(e)){t++}if(/[a-z]/.test(e)){t++}if(/[A-Z]/.test(e)){t++}if(/[\.|-|_]/.test(e)){t++}return t},randomWord:function(e){return Math.random().toString(e).substring(2)},countStr:function(e,t){return e.split(t).length-1},filterStr:function(e,t,r,n){var a=t.split(","),s=e;for(var i=0,o=a.length;i<o;i++){if(a[i]==="special"){var u,l="$()[]{}?|^*+./\"'+";if(n){var c=n.split(""),f="[^0-9A-Za-z\\s";for(var p=0,h=c.length;p<h;p++){if(l.indexOf(c[p])===-1){f+=c[p]}else{f+="\\"+c[p]}}f+="]";u=new RegExp(f,"g")}else{u=new RegExp("[^0-9A-Za-z\\s]","g")}}var g=r||"";switch(a[i]){case"special":s=s.replace(u,g);break;case"html":s=s.replace(/<\/?[^>]*>/g,g);break;case"emjoy":s=s.replace(/[^\u4e00-\u9fa5|\u0000-\u00ff|\u3002|\uFF1F|\uFF01|\uff0c|\u3001|\uff1b|\uff1a|\u3008-\u300f|\u2018|\u2019|\u201c|\u201d|\uff08|\uff09|\u2014|\u2026|\u2013|\uff0e]/g,g);break;case"word":s=s.replace(/[a-z]/g,g);break;case"WORD":s=s.replace(/[A-Z]/g,g);break;case"number":s=s.replace(/[0-9]/g,g);break;case"chinese":s=s.replace(/[\u4E00-\u9FA5]/g,g);break}}return s},formatText:function(e,t,r){var n=t||3,a=r||",";var s="\\B(?=(\\w{"+n+"})+(?!\\w))";var i=new RegExp(s,"g");return e.replace(i,a)},longestWord:function(e,t){var r=t||/\s+/g,n=0,a="";var s=e.split(r);s.forEach(function(e){if(n<e.length){n=e.length;a=e}});return{el:a,max:n}},titleCaseUp:function(e,t){var r=t||/\s+/g;var n=e.split(r),a="",s=this;n.forEach(function(e){a+=s.changeCase(e,1)+" "});return this.trim(a,4)},removeRepeatArray:function(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})},upsetArr:function(e){return e.sort(function(){return Math.random()-.5})},maxArr:function(e){return Math.max.apply(null,e)},minArr:function(e){return Math.min.apply(null,e)},sumArr:function(e){return e.reduce(function(e,t){return e+t})},covArr:function(e){return this.sumArr(e)/e.length},randomOne:function(e){return e[Math.floor(Math.random()*e.length)]},getEleCount:function(e,t){var r=0;for(var n=0,a=e.length;n<a;n++){if(t===e[n]){r++}}return r},getCount:function(e,t,r){var n={},a,s=[];for(var i=0,o=e.length;i<o;i++){a=e[i];if(n[a]){n[a]++}else{n[a]=1}}for(var u in n){s.push({el:u,count:n[u]})}s.sort(function(e,t){return t.count-e.count});if(r===1){s=s.reverse()}var l=t||s.length;return s.slice(0,l)},getArrayNum:function(e,t,r){return e.slice(t,r)},removeArrayForValue:function(e,t,r){return e.filter(function(e){return r?e.indexOf(t)===-1:e!==t})},getOptionArray:function(e,t){var r=[];if(!t){return e}var n=t.split(","),a={};if(n.length===1){for(var s=0,i=e.length;s<i;s++){r.push(e[s][t])}return r}for(var s=0,i=e.length;s<i;s++){a={};for(var o=0,u=n.length;o<u;o++){a[n[o]]=e[s][n[o]]}r.push(a)}return r},filterOptionArray:function(e,t){var r=[];var n=t.split(","),a={};for(var s=0,i=e.length;s<i;s++){a={};for(var o in e[s]){if(n.indexOf(o)===-1){a[o]=e[s][o]}}r.push(a)}return r},arraySort:function(e,t){if(!t){return e}var r=t.split(",").reverse(),n=e.slice(0);for(var a=0,s=r.length;a<s;a++){n.sort(function(e,t){return e[r[a]]-t[r[a]]})}return n},steamroller:function(e){var t=[],r=this;for(var n=0;n<e.length;n++){if(Array.isArray(e[n])){t.push.apply(t,r.steamroller(e[n]))}else{t.push(e[n])}}return t},getFontSize:function(e){var t=document,r=window;var n=t.documentElement,a="orientationchange"in window?"orientationchange":"resize",s=function(){var t=n.clientWidth;if(!t)return;if(t>e){t=e}n.style.fontSize=100*(t/e)+"px"};r.addEventListener(a,s,false);t.addEventListener("DOMContentLoaded",s,false)},getEndTime:function(e){var t=new Date;var r=new Date(e);var n=r.getTime()-t.getTime();var a=0,s=0,i=0,o=0;if(n>=0){a=Math.floor(n/1e3/3600/24);s=Math.floor(n/1e3/60/60%24);i=Math.floor(n/1e3/60%60);o=Math.floor(n/1e3%60)}return"剩余时间"+a+"天 "+s+"小时 "+i+" 分钟"+o+" 秒"},randomColor:function(){return"#"+Math.random().toString(16).substring(2).substr(0,6)},randomNumber:function(e,t){if(arguments.length===2){return Math.round(e+Math.random()*(t-e))}else if(arguments.length===1){return Math.round(Math.random()*e)}else{return Math.round(Math.random()*255)}},setUrlPrmt:function(e){var t=[];for(var r in e){if(e[r]!=null&&e[r]!=""){t.push(r+"="+e[r])}}return t.join("&")},getUrlPrmt:function(e){e=e?e:window.location.href;var t=e.substring(e.indexOf("?")+1),r=t.split("&"),n={};for(var a=0,s=r.length;a<s;a++){var i=r[a].indexOf("=");if(i==-1){continue}var o=r[a].substring(0,i),u=window.decodeURIComponent(r[a].substring(i+1));n[o]=u}return n},upDigit:function(e){var t=["角","分","厘"];var r=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"];var n=[["元","万","亿"],["","拾","佰","仟"]];var a=e<0?"欠人民币":"人民币";e=Math.abs(e);var s="";for(var i=0;i<t.length;i++){s+=(r[Math.floor(e*10*Math.pow(10,i))%10]+t[i]).replace(/零./,"")}s=s||"整";e=Math.floor(e);for(var i=0;i<n[0].length&&e>0;i++){var o="";for(var u=0;u<n[1].length&&e>0;u++){o=r[e%10]+n[1][u]+o;e=Math.floor(e/10)}s=o.replace(/(零.)*零$/,"").replace(/^$/,"零")+n[0][i]+s}return a+s.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")},filterParams:function(e){var t={};for(var r in e){if((e[r]===0||e[r]===false||e[r])&&e[r].toString().replace(/(^\s*)|(\s*$)/g,"")!==""){t[r]=e[r]}}return t},setCookie:function(e,t,r){var n=new Date;n.setDate(n.getDate()+r);document.cookie=e+"="+t+";expires="+n},getCookie:function(e){var t=document.cookie.split("; ");for(var r=0;r<t.length;r++){var n=t[r].split("=");if(n[0]==e){return n[1]}}return""},removeCookie:function(e){this.setCookie(e,1,-1)},hasClass:function(e,t){if(e.className&&this.trim(e.className,1)!==""){var r=e.className.split(/\s+/);return r.indexOf(t)==-1?false:true}else{return false}},addClass:function(e,t){if((this.istype(e,"array")||this.istype(e,"elements"))&&e.length>=1){for(var r=0,n=e.length;r<n;r++){if(!this.hasClass(e[r],t)){e[r].className+=" "+t}}}else{if(!this.hasClass(e,t)){e.className+=" "+t}}},removeClass:function(e,t){if((this.istype(e,"array")||this.istype(e,"elements"))&&e.length>1){for(var r=0,n=e.length;r<n;r++){if(this.hasClass(e[r],t)){var a=new RegExp("(\\s|^)"+t+"(\\s|$)");e[r].className=e[r].className.replace(a,"")}}}else{if(this.hasClass(e,t)){var a=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(a,"")}}},replaceClass:function(e,t,r){this.removeClass(e,r);this.addClass(e,t)},siblings:function(e,t){var r=[];var n=e.previousSibling;while(n){if(n.nodeType===1){r.push(n)}n=n.previousSibling}r.reverse();var a=e.nextSibling;while(a){if(a.nodeType===1){r.push(a)}a=a.nextSibling}if(t){var s=t.substr(1);var i=[];if(t[0]==="."){i=r.filter(function(e){return e.className===s})}else if(t[0]==="#"){i=r.filter(function(e){return e.id===s})}else{i=r.filter(function(e){return e.tagName.toLowerCase()===t})}return i}return r},css:function(e,t){for(var r in t){e.style[r]=t[r]}},html:function(e){if(arguments.length===1){return e.innerHTML}else if(arguments.length===2){e.innerHTML=arguments[1]}},text:function(e){if(arguments.length===1){return e.innerHTML}else if(arguments.length===2){e.innerHTML=this.filterStr(arguments[1],"html")}},show:function(e){var t=["div","li","ul","ol","dl","table","article","h1","h2","h3","h4","h5","h6","p","hr","header","footer","details","summary","section","aside",""];if(t.indexOf(e.tagName.toLocaleLowerCase())===-1){e.style.display="inline"}else{e.style.display="block"}},hide:function(e){e.style.display="none"},ajax:function(e){e=e||{};e.type=e.type.toUpperCase()||"POST";e.url=e.url||"";e.async=e.async||true;e.data=e.data||null;e.success=e.success||function(){};e.error=e.error||function(){};var t=null;if(XMLHttpRequest){t=new XMLHttpRequest}else{t=new ActiveXObject("Microsoft.XMLHTTP")}var r=[];for(var n in e.data){r.push(n+"="+e.data[n])}var a=r.join("&");if(e.type.toUpperCase()==="POST"){t.open(e.type,e.url,e.async);t.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8");t.send(a)}else if(e.type.toUpperCase()==="GET"){t.open(e.type,e.url+"?"+a,e.async);t.send(null)}t.onreadystatechange=function(){if(t.readyState==4&&t.status==200){e.success(t.responseText)}else{e.error(t.responseText)}}},aftLoadImg:function(e,t,r,n){var a=new Image,s=this;a.src=t;a.onload=function(){e.src=a.src;if(n&&s.istype(n,"function")){n(e)}};a.onerror=function(){e.src=r;if(n&&s.istype(n,"function")){n(e)}}},loadImg:function(e,t,r){var n=e||"ec-load-img",a=t||0,s=this,i=r||null;var o=document.getElementsByClassName(n);for(var u=0,l=o.length;u<l;u++){if(document.documentElement.clientHeight+document.documentElement.scrollTop>o[u].offsetTop-a&&!o[u].isLoad){o[u].isLoad=true;o[u].style.cssText="transition: ''; opacity: 0;";if(o[u].dataset){this.aftLoadImg(o[u],o[u].dataset.src,i,function(e){setTimeout(function(){if(e.isLoad){s.removeClass(e,n);e.style.cssText=""}},1e3)})}else{this.aftLoadImg(o[u],o[u].getAttribute("data-src"),i,function(e){setTimeout(function(){if(e.isLoad){s.removeClass(e,n);e.style.cssText=""}},1e3)})}(function(e){setTimeout(function(){o[e].style.cssText="transition:all 1s; opacity: 1;"},16)})(u)}}},createKeyExp:function(e){var t="";for(var r=0;r<e.length;r++){if(r!=e.length-1){t=t+e[r]+"|"}else{t=t+e[r]}}return"("+t+")"},findKey:function(e,t,r){var n=null,a=null,s=null,i=null,o=r||"span";n=t.split(/\s+/);a=this.createKeyExp(n);s=e;i=new RegExp(a,"g");s=s.replace(/<\/?[^>]*>/g,"");return s.replace(i,"<"+o+">$1</"+o+">")},istype:function(e,t){if(t){var r=t.toLowerCase()}switch(r){case"string":return Object.prototype.toString.call(e)==="[object String]";case"number":return Object.prototype.toString.call(e)==="[object Number]";case"boolean":return Object.prototype.toString.call(e)==="[object Boolean]";case"undefined":return Object.prototype.toString.call(e)==="[object Undefined]";case"null":return Object.prototype.toString.call(e)==="[object Null]";case"function":return Object.prototype.toString.call(e)==="[object Function]";case"array":return Object.prototype.toString.call(e)==="[object Array]";case"object":return Object.prototype.toString.call(e)==="[object Object]";case"nan":return isNaN(e);case"elements":return Object.prototype.toString.call(e).indexOf("HTML")!==-1;default:return Object.prototype.toString.call(e)}},browserInfo:function(e){switch(e){case"android":return navigator.userAgent.toLowerCase().indexOf("android")!==-1;case"iphone":return navigator.userAgent.toLowerCase().indexOf("iphone")!==-1;case"ipad":return navigator.userAgent.toLowerCase().indexOf("ipad")!==-1;case"weixin":return navigator.userAgent.toLowerCase().indexOf("micromessenger")!==-1;default:return navigator.userAgent.toLowerCase()}},delayFn:function(e,t,r){var n=null;var a;return function(){var s=this,i=arguments,o=+new Date;clearTimeout(n);if(!a){a=o}if(o-a>=r){e.apply(s,i);a=o}else{n=setTimeout(function(){e.apply(s,i)},t)}}}};